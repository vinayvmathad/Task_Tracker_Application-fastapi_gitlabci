stages:
  - install
  - test

install-requirements:
  stage: install
  image: python:3.11
  
  script:
    - python3 -m venv venv
    - source venv/bin/activate
    - pip install --upgrade pip
    - pip install -r requirements.txt

run-tests:
    stage: test
    image: python:3.11

    script:
      - python3 -m venv venv
      - source venv/bin/activate
      - pip install -r requirements.txt
      - pytest test/